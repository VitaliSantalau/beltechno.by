{"version":3,"sources":["webpack:///./src/style/cars.module.css","webpack:///./node_modules/emailjs-com/source/index.js","webpack:///./src/components/feedbackForm.module.css","webpack:///./src/utils/validFeedbackForm.js","webpack:///./src/components/feedbackForm.js","webpack:///./node_modules/emailjs-com/source/models/EmailJSResponseStatus.js","webpack:///./src/pages/cars.js","webpack:///./node_modules/emailjs-com/source/services/ui/UI.js"],"names":["module","exports","Object","defineProperty","value","EmailJSResponseStatus","sendForm","send","init","EmailJSResponseStatus_1","enumerable","get","UI_1","_userID","_origin","sendPost","url","data","headers","Promise","resolve","reject","xhr","XMLHttpRequest","key","addEventListener","event","responseStatus","target","status","text","open","setRequestHeader","appendGoogleCaptcha","templatePrams","element","document","getElementById","userID","origin","serviceID","templateID","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","form","selector","querySelector","nodeName","UI","progressState","formData","FormData","append","then","response","successState","error","errorState","default","valid","name","email","feedback","test","validateEmail","reducer","state","action","type","message","className","style","successMessage","errorMessage","isShowLoading","validMessage","payload","Error","initialState","FeedbackForm","handleShowFeedback","useState","senderName","senderEmail","input","setInput","handleInput","e","useReducer","dispatch","containerMessage","header","underheaderText","inputName","required","placeholder","onChange","inputEmail","inputFeedback","containerButtons","buttonLoading","buttonSend","onClick","setTimeout","emailjs","console","log","buttonClose","httpResponse","this","responseText","Cups","isShowFeedbackForm","setIsShowFeedback","title","pathname","root","main","wrapper","containerHeaderSection","containerPhrases","wordAny","buttonOrder","containerListItems","allContentfulCar","edges","map","car","node","to","id","containerItem","containerVisiblePartItem","containerImageItem","fluid","imageMain","image","containerNameItem","containerUnVisiblePartItem","containerButtonArea","buttonItem","containerMarkTrue","round","icon","faRecordVinyl","mark","containerMarkFalse","clearAll","classList","remove","PROGRESS","DONE","ERROR","add"],"mappings":"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","file":"component---src-pages-cars-js-5425b1b8e222f013a296.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"cars-module--root--3Nny9\",\"main\":\"cars-module--main--1Ubkz\",\"wrapper\":\"cars-module--wrapper--382OL\",\"containerHeaderSection\":\"cars-module--containerHeaderSection--1uQJi\",\"title\":\"cars-module--title--3Aqme\",\"containerPhrases\":\"cars-module--containerPhrases--1uRFy\",\"wordAny\":\"cars-module--wordAny--1Cr7S\",\"buttonOrder\":\"cars-module--buttonOrder--3aPQr\",\"pulse\":\"cars-module--pulse--1Qt0A\",\"containerListItems\":\"cars-module--containerListItems--lA00J\",\"containerItem\":\"cars-module--containerItem--3ws2x\",\"containerUnVisiblePartItem\":\"cars-module--containerUnVisiblePartItem--3KE9D\",\"containerButtonArea\":\"cars-module--containerButtonArea--2h1H0\",\"containerVisiblePartItem\":\"cars-module--containerVisiblePartItem--4WDUl\",\"containerImageItem\":\"cars-module--containerImageItem--1Mu4y\",\"image\":\"cars-module--image--2GFsF\",\"containerNameItem\":\"cars-module--containerNameItem--3B2wK\",\"buttonItem\":\"cars-module--buttonItem--2jqLj\",\"containerMarkTrue\":\"cars-module--containerMarkTrue--YpexX\",\"containerMarkFalse\":\"cars-module--containerMarkFalse--1r64Y\",\"round\":\"cars-module--round--1BC1r\"};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmailJSResponseStatus = exports.sendForm = exports.send = exports.init = void 0;\n\nvar EmailJSResponseStatus_1 = require(\"./models/EmailJSResponseStatus\");\n\nObject.defineProperty(exports, \"EmailJSResponseStatus\", {\n  enumerable: true,\n  get: function get() {\n    return EmailJSResponseStatus_1.EmailJSResponseStatus;\n  }\n});\n\nvar UI_1 = require(\"./services/ui/UI\");\n\nvar _userID = null;\nvar _origin = 'https://api.emailjs.com';\n\nfunction sendPost(url, data, headers) {\n  if (headers === void 0) {\n    headers = {};\n  }\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', function (event) {\n      var responseStatus = new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target);\n\n      if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n        resolve(responseStatus);\n      } else {\n        reject(responseStatus);\n      }\n    });\n    xhr.addEventListener('error', function (event) {\n      reject(new EmailJSResponseStatus_1.EmailJSResponseStatus(event.target));\n    });\n    xhr.open('POST', url, true);\n\n    for (var key in headers) {\n      xhr.setRequestHeader(key, headers[key]);\n    }\n\n    xhr.send(data);\n  });\n}\n\nfunction appendGoogleCaptcha(templatePrams) {\n  var element = document && document.getElementById('g-recaptcha-response');\n\n  if (element && element.value) {\n    templatePrams['g-recaptcha-response'] = element.value;\n  }\n\n  element = null;\n  return templatePrams;\n}\n\nfunction fixIdSelector(selector) {\n  if (selector[0] !== '#' && selector[0] !== '.') {\n    return '#' + selector;\n  }\n\n  return selector;\n}\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\n\n\nfunction init(userID, origin) {\n  _userID = userID;\n  _origin = origin || 'https://api.emailjs.com';\n}\n\nexports.init = init;\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {Object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nfunction send(serviceID, templateID, templatePrams, userID) {\n  var params = {\n    lib_version: '2.6.4',\n    user_id: userID || _userID,\n    service_id: serviceID,\n    template_id: templateID,\n    template_params: appendGoogleCaptcha(templatePrams)\n  };\n  return sendPost(_origin + '/api/v1.0/email/send', JSON.stringify(params), {\n    'Content-type': 'application/json'\n  });\n}\n\nexports.send = send;\n/**\n * Send a form the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {string | HTMLFormElement} form - the form element or selector\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nfunction sendForm(serviceID, templateID, form, userID) {\n  if (typeof form === 'string') {\n    form = document.querySelector(fixIdSelector(form));\n  }\n\n  if (!form || form.nodeName !== 'FORM') {\n    throw 'Expected the HTML form element or the style selector of form';\n  }\n\n  UI_1.UI.progressState(form);\n  var formData = new FormData(form);\n  formData.append('lib_version', '2.6.4');\n  formData.append('service_id', serviceID);\n  formData.append('template_id', templateID);\n  formData.append('user_id', userID || _userID);\n  return sendPost(_origin + '/api/v1.0/email/send-form', formData).then(function (response) {\n    UI_1.UI.successState(form);\n    return response;\n  }, function (error) {\n    UI_1.UI.errorState(form);\n    return Promise.reject(error);\n  });\n}\n\nexports.sendForm = sendForm;\nexports.default = {\n  init: init,\n  send: send,\n  sendForm: sendForm\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"feedbackForm-module--form--2AhPA\",\"show\":\"feedbackForm-module--show--3YuKf\",\"containerMessage\":\"feedbackForm-module--containerMessage--3XxJg\",\"header\":\"feedbackForm-module--header--3qS8Y\",\"underheaderText\":\"feedbackForm-module--underheaderText--1nyWi\",\"inputName\":\"feedbackForm-module--inputName--38aIo\",\"inputEmail\":\"feedbackForm-module--inputEmail--36hx3\",\"inputFeedback\":\"feedbackForm-module--inputFeedback--2PlH8\",\"containerButtons\":\"feedbackForm-module--containerButtons--2ZszT\",\"buttonClose\":\"feedbackForm-module--buttonClose--2A9IW\",\"buttonSend\":\"feedbackForm-module--buttonSend--1VPXC\",\"buttonLoading\":\"feedbackForm-module--buttonLoading--2dQqx\",\"successMessage\":\"feedbackForm-module--successMessage--2MSI6\",\"errorMessage\":\"feedbackForm-module--errorMessage--3Hjf1\",\"validMessage\":\"feedbackForm-module--validMessage--JSW3O\"};","const valid = (name, email, feedback) => {\n  if(!name || !email || !feedback) {\n    return \"Пожалуйста, заполните все поля\"\n  }\n  \n  if(!validateEmail(email)) {\n    return \"Пожалуйста, укажите корректный email\"\n  } \n}\n  \nfunction validateEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(email);\n}\n  \nexport default valid","import style from './feedbackForm.module.css'\nimport React, { useReducer, useState } from 'react'\nimport valid from '../utils/validFeedbackForm'\nimport emailjs, { init } from 'emailjs-com'\ninit(\"user_40O79S8SCPDAID55QRcBX\")\n\n\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'success':\n      return { \n        ...state, \n        message : <div className={style.successMessage}>\n                    <div>Ваше сообщение было отправлено</div>\n                  </div> \n      }\n    case 'error':\n      return {\n        ...state, \n        message : <div className={style.errorMessage}>\n                    <div>Ваше сообшение не было отправлено. Попробуйте позвонить</div>\n                  </div>\n      }\n    case 'loading':\n      return {\n        ...state, \n        isShowLoading: true\n      }  \n    case 'reset':\n      return {\n        ...state, \n        message: null,\n        isShowLoading: false\n      }  \n    case 'valid':\n      return {\n        ...state, \n        message : <div className={style.validMessage}>\n                    {action.payload}\n                  </div>\n      }  \n    default:\n      throw new Error();\n  }\n}\n\nconst initialState = {\n  isShowLoading: false,\n  validMessage: null,\n  message: null\n}\n\nexport default function FeedbackForm({ handleShowFeedback }) {\n\n  const [input, setInput] = useState({ senderName: \"\", senderEmail: \"\", feedback: \"\" });\n  const { senderName, senderEmail, feedback } = input\n  const handleInput = (e) => {\n    setInput({\n      ...input,\n      [e.target.name] : e.target.value\n    })\n  }\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n   \n  const handleSend = () => {\n    const validMessage = valid(senderName, senderEmail, feedback)\n    if(validMessage) {\n      dispatch({ type: 'valid', payload: validMessage })\n      setTimeout(() => dispatch({ type: 'reset' }), 3000)\n\n    } else {\n      dispatch({ type: 'loading' })\n\n      emailjs.send(\"service_9fpesnd\", \"template_jxk3fme\", input)\n      .then(response => {\n        dispatch({ type: 'success' })\n        setTimeout(handleShowFeedback, 3000)\n        setTimeout(() => dispatch({ type: 'reset' }), 3000)\n        setInput({ senderEmail: \"\", feedback: \"\" })\n  \n        console.log('SUCCESS!', response.status, response.text);\n        \n      }, function(error) {\n        dispatch({ type: 'error' })\n        setTimeout(handleShowFeedback, 3000)\n        setTimeout(() => dispatch({ type: 'reset' }), 3000)\n        setInput({ senderName: \"\", senderEmail: \"\", feedback: \"\" })\n        \n        console.log('FAILED...', error);\n      });\n    }\n  }\n\n  return (\n  <>\n    <div className={style.form}>\n      <div className={style.containerMessage}>\n        <div className={style.header}>Оставить заявку</div>  \n        <div className={style.underheaderText}>Мы свяжемся с Вами!</div>\n        {state.message}\n      </div>\n      <input \n          type=\"text\" \n          className={style.inputName}\n          required\n          placeholder=\"Ваше имя\"\n          name=\"senderName\"\n          value={senderName}\n          onChange={handleInput}\n      />  \n      <input \n          type=\"text\" \n          className={style.inputEmail}\n          required\n          placeholder=\"Ваш е-mail\"\n          name=\"senderEmail\"\n          value={senderEmail}\n          onChange={handleInput}\n      />       \n      <textarea \n          className={style.inputFeedback}\n          required\n          placeholder=\"Оставить заявку / Задать вопрос\"\n          name=\"feedback\"\n          value={feedback}\n          onChange={handleInput}\n      />\n      <div className={style.containerButtons}>\n        {state.isShowLoading ? \n          <button className={style.buttonLoading}>\n            Отправка...\n          </button> :\n          <button className={style.buttonSend} onClick={handleSend}>\n            Отправить\n          </button>\n        }         \n        <button onClick={handleShowFeedback} className={style.buttonClose}>\n          Закрыть\n        </button>\n      </div>\n    </div>\n  </>\n  )\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmailJSResponseStatus = void 0;\n\nvar EmailJSResponseStatus =\n/** @class */\nfunction () {\n  function EmailJSResponseStatus(httpResponse) {\n    this.status = httpResponse.status;\n    this.text = httpResponse.responseText;\n  }\n\n  return EmailJSResponseStatus;\n}();\n\nexports.EmailJSResponseStatus = EmailJSResponseStatus;","import style from \"../style/cars.module.css\"\nimport React, { useState } from \"react\"\nimport Footer from \"../components/footer\"\nimport Header from \"../components/header\"\nimport SEO from \"../components/SEO\"\nimport { graphql, Link } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faRecordVinyl } from '@fortawesome/free-solid-svg-icons'\nimport FeedbackForm from \"../components/feedbackForm\"\n\n\n\nexport const query = graphql`\n  {\n    allContentfulCar {\n      edges {\n        node {\n          id\n          name\n          state\n          imageMain {\n            fluid(toFormat: AUTO, resizingBehavior: SCALE, cropFocus: CENTER) {\n              aspectRatio\n              base64\n              src\n              sizes\n              srcSet\n              srcSetWebp\n              srcWebp\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\n\n\nexport default function Cups({ data }) {\n  const [isShowFeedbackForm, setIsShowFeedback] = useState(false)\n\n  const handleShowFeedback = () => {\n    isShowFeedbackForm ? setIsShowFeedback(false) : setIsShowFeedback(true)\n  }\n\n  return (\n    <>\n      <SEO \n        title=\"Автомобили\"\n        pathname=\"/cars/\"  \n      />\n      <div className={style.root}>\n        <Header />\n        <main className={style.main}>\n          <div className={style.wrapper}>\n            <section className={style.containerHeaderSection}>\n              <h1 className={style.title}>Автомобили</h1>\n              <div className={style.containerPhrases}>\n                <p>мы готовы поставить для Вас</p>\n                <p className={style.wordAny}>любой</p>\n                <p>атомобиль</p>\n              </div>\n              <button className={style.buttonOrder} onClick={handleShowFeedback}>Заявка</button>\n              { isShowFeedbackForm && <FeedbackForm handleShowFeedback={handleShowFeedback} /> }              \n            </section>\n          <div className={style.containerListItems}>\n            {data.allContentfulCar.edges.map(({ node: car }) => (\n              <Link to={`/cars/${car.id}`} key={car.id} className={style.containerItem}>\n                <div className={style.containerVisiblePartItem}>\n                  <div className={style.containerImageItem}>\n                    <Img fluid={car.imageMain.fluid} className={style.image}/>\n                  </div>\n                  <div className={style.containerNameItem}>\n                    {car.name}\n                  </div>\n                </div>\n                <div className={style.containerUnVisiblePartItem}>\n                  <div className={style.containerButtonArea}>\n                    <div className={style.buttonItem}>\n                      Выбрать этот товар\n                    </div>\n                  </div>\n                </div>\n                {car.state ?\n                  <div className={style.containerMarkTrue}>\n                    <div className={style.round}>\n                      <FontAwesomeIcon icon={faRecordVinyl} />\n                    </div>\n                    <div className={style.mark}>в наличии</div>\n                  </div> \n                  :\n                  <div className={style.containerMarkFalse}>\n                    <div className={style.round}>\n                      <FontAwesomeIcon icon={faRecordVinyl} />\n                    </div>\n                    <div className={style.mark}>под заказ</div>\n                  </div>\n                }\n              </Link>\n            ))}            \n            </div>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    </>\n  )\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UI = void 0;\n\nvar UI =\n/** @class */\nfunction () {\n  function UI() {}\n\n  UI.clearAll = function (form) {\n    form.classList.remove(this.PROGRESS);\n    form.classList.remove(this.DONE);\n    form.classList.remove(this.ERROR);\n  };\n\n  UI.progressState = function (form) {\n    this.clearAll(form);\n    form.classList.add(this.PROGRESS);\n  };\n\n  UI.successState = function (form) {\n    form.classList.remove(this.PROGRESS);\n    form.classList.add(this.DONE);\n  };\n\n  UI.errorState = function (form) {\n    form.classList.remove(this.PROGRESS);\n    form.classList.add(this.ERROR);\n  };\n\n  UI.PROGRESS = 'emailjs-sending';\n  UI.DONE = 'emailjs-success';\n  UI.ERROR = 'emailjs-error';\n  return UI;\n}();\n\nexports.UI = UI;"],"sourceRoot":""}